<div class="panel panel-default" id="managing-panel">
	<div class="panel-heading">
		Managing Events
	</div>
	<div class="panel-body" id="managing-panel-body">
			No managing events...
	</div>
</div>

<div class="panel panel-default" id="volunteering-panel">
	<div class="panel-heading">
		Volunteering Events
	</div>
	<div class="panel-body" id="volunteering-panel-body">
			No volunteering events...
	</div>
</div>

<script type="text/javascript">
	safeGet("/me", function (data) {
			var managing_events = data.managing_events;
			var volunteering_events = data.volunteering_events;

			// check that we got appropriate data
			if (managing_events != undefined && 
				managing_events.length > 0)
			{
				// put a list in that bitch
				$("#managing-panel-body").hide();
				$("#managing-panel").append("<ul class='list-group'" +
					" id='managing-events'>");

				// map to html
				managing_events.map(
					function (event_id, index) {
						// now get details 
						safeGet("/event/" + event_id, 
							function (event_data) {
								$("#managing-events").append("<li class='list-group-item'>" +
									"<a href='event/" + event_data.id + "'>" +	event_data.name + "</a>"+
								"</li>");
						});
					}
				);
			}

			// check that we got appropriate data
			if (volunteering_events != undefined 
				&& volunteering_events.length > 0)
			{
				// put a list in that bitch
				$("#volunteering-panel-body").hide();
				$("#volunteering-panel").append("<ul class='list-group'" +
					" id='volunteering-events'>");

				// map to html
				volunteering_events.map(
					function (event_id, index) {
						// now get details 
						safeGet("/event/" + event_id, 
							function (event_data) {
								$("#volunteering-events").append("<li class='list-group-item'>" +
									"<a href='event/" + event_data.id + "'>" +	event_data.name + "</a>"+
								"</li>");
						});
					}
				);
			}
		}
	);
</script>
